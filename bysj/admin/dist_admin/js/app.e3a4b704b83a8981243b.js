webpackJsonp([1],{"2qTu":function(e,t){},"4jgz":function(e,t){},"AK/n":function(e,t,o){"use strict";var s={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view")},staticRenderFns:[]};t.a=s},AaUt:function(e,t){},CAs3:function(e,t){},"KS/H":function(e,t){},M93x:function(e,t,o){"use strict";var s=o("xJD8"),a=o.n(s),i=o("AK/n");var l=function(e){o("AaUt")},r=o("VU/8")(a.a,i.a,!1,l,null,null);t.default=r.exports},NHnr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=o("7+uW"),a=o("M93x"),i=o("/ocq"),l=o("2sCs"),r=o.n(l),n=o("DEjr"),m=o.n(n),c={request:function(e){var t=this;console.log(e),r()({method:e.method||"get",url:e.url||"",data:m.a.stringify(e.data)||"",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(o){10===o.data.status?"function"==typeof e.success&&e.success(o.data):1===o.data.status?t.doLogin():0===o.data.status&&"function"==typeof e.error&&e.error(o.data.msg)}).catch(function(t){"function"==typeof e.error&&e.error(t.statusText)})},doLogin:function(){window.location.href="login"},getServerUrl:function(e){return"http://localhost:8080"+e}},d={checkLogin:function(e,t){c.request({url:c.getServerUrl("/admin_php/admin_user/checkLogin.php"),success:e,error:t})},getAdminName:function(e,t){c.request({url:c.getServerUrl("/admin_php/admin_user/getAdminName.php"),success:e,error:t})},checkAdminLevel:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/admin_user/checkAdminLevel.php?type="+e),success:t,error:o})},getAdminInfo:function(e,t){c.request({url:c.getServerUrl("/admin_php/admin_user/getAdminInfo.php"),success:e,error:t})},addAdmin:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/admin_user/addAdmin.php"),method:"post",data:e,success:t,error:o})},checkAdminName:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/admin_user/checkAdminName.php"),method:"post",data:{adminName:e},success:t,error:o})},deleteAdmin:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/admin_user/deleteAdmin.php"),method:"post",data:{adminId:e},success:t,error:o})},validateLogin:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/admin_user/validateLogin.php"),method:"post",data:e,success:t,error:o})},logout:function(e,t){c.request({url:c.getServerUrl("/admin_php/admin_user/logout.php"),success:e,error:t})}},u=o("9rMa");s.a.use(u.a);var f=new u.a.Store({state:{isLogin:!1,adminInfo:{},typeLists:[]},mutations:{setLevel:function(e,t){e.level=t},setIsActive:function(e,t){e.isActive=t}},actions:{add2:function(e,t){e.commit("add",10)},reduce2:function(e,t){e.commit("reduce",20)}}}),p={name:"admin_info",data:function(){var e=this;return{tableData:[],multipleSelection:[],loading:!0,dialogFormVisible:!1,form:{adminName:"",password:"",checkPass:"",level:""},rules:{adminName:[{required:!0,message:"请输入管理员名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"},{validator:function(e,t,o){d.checkAdminName(t,function(e){o()},function(e){o(new Error("管理员名已存在!"))})},trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:12,message:"长度在 6 到 12 个字符",trigger:"blur"},{validator:function(t,o,s){""!==e.form.checkPass&&e.$refs.form.validateField("checkPass"),s()},trigger:"blur"}],checkPass:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:function(t,o,s){o!==e.form.password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],level:[{required:!0,message:"请选择管理员级别",trigger:"change"}]},formLabelWidth:"120px"}},methods:{filterTag:function(e,t){return t.level===e},toggleSelection:function(){console.log(this.$refs.multipleTable),this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=e},handleDelete:function(e,t,o){var s=this;"3"!==o.level?s.$confirm("确认删除？","系统提示",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning",callback:function(a,i){"confirm"===a?(console.log(e,t,o),d.deleteAdmin(o.adminId,function(o){t.splice(e,1),s.$message({type:"success",message:"删除成功！"})},function(e){s.$message({type:"danger",message:"删除失败！"})})):s.$message({type:"info",message:"已取消删除！"})}}):s.$alert("权限不足，无法操作！","系统提示",{confirmButtonText:"确定"})},submitForm:function(e){var t=this,o={adminName:t.form.adminName,password:t.form.password,level:t.form.level};t.$refs[e].validate(function(e){if(!e)return!1;d.addAdmin(o,function(e){t.$alert(e.msg,"系统提示",{confirmButtonText:"确定",callback:function(e){d.getAdminInfo(function(e){t.tableData=e.data},function(e){t.$alert("数据出错","系统提示",{confirmButtonText:"确定"})})}})},function(e){t.$alert(e.msg,"系统提示",{confirmButtonText:"确定",callback:function(e){window.location.reload()}})}),t.dialogFormVisible=!1})},resetForm:function(e){this.$refs[e].resetFields()},deleteChoose:function(){var e=this,t=e.multipleSelection.length,o=[],s="";0!==t?e.$confirm("确认删除？","系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(a,i){if("confirm"==a){for(var l=0;l<t;l++)o.push(e.multipleSelection[l].adminId);s=o.join(","),d.deleteAdmin(s,function(t){e.$message({type:"success",message:t.msg}),d.getAdminInfo(function(t){e.tableData=t.data},function(t){e.$alert("数据出错","系统提示",{confirmButtonText:"确定"})})},function(t){e.$message({type:"info",message:t})})}}}):e.$alert("请选择!","系统提示",{confirmButtonText:"确定"})}},mounted:function(){var e=this;d.getAdminInfo(function(t){e.loading=!1,e.tableData=t.data},function(t){e.$alert("数据出错","系统提示",{confirmButtonText:"确定"})})}},g={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("div",{staticClass:"main-title",attrs:{slot:"main-title"},slot:"main-title"},[e._v("管理员列表")]),e._v(" "),o("el-button",{staticClass:"add-btn",attrs:{type:"primary",plain:""},on:{click:function(t){e.dialogFormVisible=!0}}},[o("i",{staticClass:"el-icon-plus"}),e._v("新增管理员")])],1),e._v(" "),o("el-dialog",{staticClass:"admin_dialog",attrs:{title:"新增管理员",visible:e.dialogFormVisible,width:"40%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"status-icon":""}},[o("el-form-item",{attrs:{label:"管理员名","label-width":e.formLabelWidth,prop:"adminName"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.adminName,callback:function(t){e.$set(e.form,"adminName","string"==typeof t?t.trim():t)},expression:"form.adminName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[o("el-input",{attrs:{"auto-complete":"off",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password","string"==typeof t?t.trim():t)},expression:"form.password"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"确认密码","label-width":e.formLabelWidth,prop:"checkPass"}},[o("el-input",{attrs:{"auto-complete":"off",type:"password"},model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass","string"==typeof t?t.trim():t)},expression:"form.checkPass"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"管理员级别","label-width":e.formLabelWidth,prop:"level"}},[o("el-select",{attrs:{placeholder:"请选择管理员级别"},model:{value:e.form.level,callback:function(t){e.$set(e.form,"level",t)},expression:"form.level"}},[o("el-option",{attrs:{label:"1级",value:"1"}}),e._v(" "),o("el-option",{attrs:{label:"2级",value:"2"}})],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重 置")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("确 定")])],1)],1),e._v(" "),o("el-table",{ref:"multipleTable",staticClass:"admin-table",staticStyle:{width:"100%"},attrs:{loading:e.loading,data:e.tableData},on:{"selection-change":e.handleSelectionChange}},[o("el-table-column",{attrs:{type:"selection",width:"100"}}),e._v(" "),o("el-table-column",{attrs:{prop:"adminId",label:"ID",width:"150"}}),e._v(" "),o("el-table-column",{attrs:{prop:"date",label:"创建时间",sortable:"",width:"250"}}),e._v(" "),o("el-table-column",{attrs:{prop:"adminName",label:"管理员名",width:"250"}}),e._v(" "),o("el-table-column",{attrs:{prop:"lastDate",label:"最近登录时间",sortable:"",width:"250"}}),e._v(" "),o("el-table-column",{attrs:{prop:"level",label:"管理员级别",width:"200",filters:[{text:"1级",value:"1"},{text:"2级",value:"2"},{text:"3级",value:"3"}],"filter-method":e.filterTag,"filter-placement":"bottom-end"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tag",{attrs:{type:"1"===t.row.level?"primary":"2"===t.row.level?"success":"danger","close-transition":""}},[e._v(e._s(t.row.level)+"\n\t\t        ")])]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){e.handleDelete(t.$index,e.tableData,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("div",{staticClass:"bottom-btn"},[o("el-button",{attrs:{type:"danger",plain:""},on:{click:e.deleteChoose}},[o("i",{staticClass:"el-icon-close"}),e._v("删除所选")]),e._v(" "),o("el-button",{attrs:{type:"primary",plain:""},on:{click:function(t){e.toggleSelection()}}},[e._v("取消选择")])],1),e._v(" "),o("div",{staticClass:"block"},[o("el-pagination",{attrs:{layout:"prev, pager, next",total:50}})],1)],1)},staticRenderFns:[]};var h=o("VU/8")(p,g,!1,function(e){o("phWZ")},null,null).exports,v={getTypeList:function(e,t){c.request({url:c.getServerUrl("/admin_php/type/getTypeList.php?type=admin"),method:"GET",success:e,error:t})},updateTypeItem:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/type/updateTypeItem.php"),method:"post",data:e,success:t,error:o})},addTypeItem:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/type/addTypeItem.php"),method:"post",data:e,success:t,error:o})},deleteType:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/type/deleteType.php"),method:"post",data:{id:e},success:t,error:o})}},_={data:function(){return{data:[],defaultProps:{children:"children",label:"name"},formLabelWidth:"80px",dialogFormVisible:!1,form:{name:"",id:"",isShow:"0",sort:0,type:""},rules:{name:[{required:!0,message:"请输入分类",trigger:"blur"},{max:8,message:"长度在8个字符以内",trigger:"blur"}]},title:""}},mounted:function(){var e=this;v.getTypeList(function(t){e.data=t.data,console.log(e.data)},function(t){e.$message({type:"warning",message:"请求数据出错！"})})},methods:{submitForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return!1;"edit"==t.form.type?v.updateTypeItem(t.form,function(e){v.getTypeList(function(e){t.data=e.data},function(e){t.$message({type:"danger",message:e.msg})}),t.$message({type:"success",message:e.msg})},function(e){t.$message({type:"danger",message:e})}):(console.log(t.form),v.addTypeItem(t.form,function(e){v.getTypeList(function(e){t.data=e.data},function(e){t.$message({type:"danger",message:e.msg})}),t.$message({type:"success",message:e.msg})},function(e){t.$message({type:"danger",message:e})})),t.dialogFormVisible=!1})},resetForm:function(e){this.form={name:"",id:"",isShow:0,sort:0,type:""}},append:function(e){this.title="添加分类",this.dialogFormVisible=!0,this.form={name:"",id:e.id,isShow:"0",sort:0,type:""}},appendParent:function(){this.title="添加一级分类",this.dialogFormVisible=!0,this.form={name:"",id:0,isShow:"0",sort:0,type:""}},edit:function(e){this.title="编辑分类",this.form={name:e.name,id:e.id,isShow:e.isShow,sort:Number(e.sort),type:"edit"},this.dialogFormVisible=!0},remove:function(e,t){var o=this;d.checkAdminLevel("normal",function(e){o.$confirm("确定删除此分类？(其子分类也将被删除)","系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"danger",callback:function(e,s){"confirm"==e&&v.deleteType(t.id,function(e){v.getTypeList(function(e){o.data=e.data},function(e){o.$message({type:"danger",message:e.msg})}),o.$message({type:"success",message:e.msg})},function(e){o.$message({type:"danger",message:e})})}})},function(e){o.$alert(e,"系统提示",{confirmButtonText:"确定"})})},renderContent:function(e,t){var o=this,s=t.node,a=t.data;t.store;return e("span",{style:"flex: 1; display: flex; align-items: center; justify-content: space-between; font-size: 14px; padding-right: 8px;"},[e("span",null,[e("span",null,[s.label])]),e("span",null,[e("el-tooltip",{class:"item",attrs:{effect:"light",content:"插入子分类",placement:"left-start"}},[e("el-button",{style:"font-size: 14px; margin-right:15px;",attrs:{icon:"el-icon-plus",type:"text"},on:{click:function(){return o.append(a)}}},[])]),e("el-tooltip",{class:"item",attrs:{effect:"light",content:"编辑此分类",placement:"top-start"}},[e("el-button",{style:"font-size: 14px; margin-right:15px;",attrs:{icon:"el-icon-edit",type:"text"},on:{click:function(){return o.edit(a)}}},[])]),e("el-tooltip",{class:"item",attrs:{effect:"light",content:"删除此分类",placement:"top-start"}},[e("el-button",{attrs:{type:"danger",plain:!0,icon:"el-icon-delete"},on:{click:function(){return o.remove(s,a)}}},[])])])])}}},b={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"clearfix"},[o("div",{staticClass:"main-title",attrs:{slot:"main-title"},slot:"main-title"},[e._v("商品分类列表")]),e._v(" "),o("el-button",{staticClass:"add-btn",attrs:{type:"primary",plain:""},on:{click:e.appendParent}},[o("i",{staticClass:"el-icon-plus"}),e._v("新增一级分类\n\t\t\t")])],1),e._v(" "),o("el-tree",{attrs:{data:e.data,props:e.defaultProps,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"render-content":e.renderContent}}),e._v(" "),o("el-dialog",{staticClass:"goods_dialog",attrs:{title:e.title,visible:e.dialogFormVisible,width:"450px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,"status-icon":""}},[o("el-form-item",{attrs:{label:"分类名","label-width":e.formLabelWidth,prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"是否可见","label-width":e.formLabelWidth,prop:"isShow"}},[o("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-value":"1","inactive-value":"0"},model:{value:e.form.isShow,callback:function(t){e.$set(e.form,"isShow",t)},expression:"form.isShow"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"优先级","label-width":e.formLabelWidth,prop:"sort"}},[o("el-slider",{attrs:{"show-stops":"",max:10},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重 置")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var w=o("VU/8")(_,b,!1,function(e){o("vv1F")},null,null).exports,y={getAllGoods:function(e,t){c.request({url:c.getServerUrl("/admin_php/goods/getAllGoods.php"),success:e,error:t})},deleteImg:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/goods/deleteImg.php"),method:"POST",data:{id:e},success:t,error:o})},getImgLists:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/goods/getImgLists.php"),method:"POST",data:{goods_id:e},success:t,error:o})},deleteGoods:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/goods/deleteGoods.php"),method:"POST",data:{goods_id:e},success:t,error:o})},updateGoods:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/goods/updateGoods.php"),method:"POST",data:e,success:t,error:o})},searchInfo:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/goods/searchInfo.php"),method:"POST",data:e,success:t,error:o})},addGoods:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/goods/addGoods.php"),method:"POST",data:e,success:t,error:o})},checkGoodsId:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/goods/checkGoodsId.php"),method:"POST",data:{goods_id:e},success:t,error:o})},getUserInfo:function(e,t){c.request({url:c.getServerUrl("/admin_php/goods/getUserInfo.php"),success:e,error:t})},searchUserInfo:function(e,t,o){c.request({url:c.getServerUrl("/admin_php/goods/searchUserInfo.php"),method:"POST",data:e,success:t,error:o})}},x={data:function(){return{props:{value:"id",label:"name"},tableData:[],select:"",input:"",searchOptions:[{value:"goods_id",label:"商品 ID"},{value:"goods_name",label:"商品名称"}],innerVisible:!1,dialogVisible:!1,dialogFormVisible:!1,dialogClose:!1,form:{},formLabelWidth:"120px",fileList:[],fileList2:[],showUrl:"",action:"",rules:{goods_name:{required:!0,message:"请输入商品名称",trigger:"blur"},weight:{required:!0,message:"请输入商品重量",trigger:"blur"},store_count:{required:!0,message:"请输入库存数量",trigger:"blur"},market_price:{required:!0,message:"请输入市场价",trigger:"blur"},shop_price:{required:!0,message:"请输入本店价",trigger:"blur"},goods_desc:{required:!0,message:"请输入商品描述",trigger:"blur"},give_integral:{required:!0,message:"请输入赠送积分",trigger:"blur"}}}},mounted:function(){var e=this;y.getAllGoods(function(t){e.tableData=t.data},function(t){e.$message({type:"warning",message:"请求数据出错！"})}),v.getTypeList(function(t){e.cascaderData=t.data,console.log(e.cascaderData)},function(t){e.$message({type:"warning",message:"请求数据出错！"})})},methods:{handleSearch:function(){var e=this,t={type:e.select,content:e.input};""!=t.type?""==t.content?y.getAllGoods(function(t){e.tableData=t.data},function(t){e.$message({type:"warning",message:"请求数据出错！"})}):y.searchInfo(t,function(t){e.$message({type:"success",message:"操作成功！"}),e.tableData=t.data,console.log(e.tableData)},function(t){e.$message({type:"warning",message:"操作失败！"})}):e.$alert("请选择搜索类型!","系统提示",{confirmButtonText:"确定"})},beforeRemove:function(e,t){return!1},beforeRemove2:function(e,t){var o=this;y.deleteImg(e.id,function(e){o.$message({type:"success",message:"操作成功！"}),o.fileList2=t},function(e){return o.$message({type:"warning",message:"操作失败！"}),!1})},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},showImg:function(e){this.dialogVisible=!0,this.showUrl=e},handleEdit:function(e,t){var o=[];this.dialogFormVisible=!0,this.form=t,this.fileList=[{name:t.img_name,url:t.original_img}],this.fileList2=t.img,t.category.forEach(function(e,t){o.push(e.id),console.log(e,t)}),this.form.selectedOptions=o.reverse(),console.dir(this.selectedOptions,1)},handleDelete:function(e,t){var o=this;o.$confirm("确认删除？","系统提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",callback:function(s,a){"confirm"==s&&y.deleteGoods(t.goods_id,function(t){o.$message({type:"success",message:"操作成功！"}),o.tableData.splice(e,1)},function(e){o.$message({type:"success",message:"操作失败！"})})}})},majorCheck:function(e){if(e.size>512e3)return this.$message({type:"warning",message:"图片大小超出设定数量！"}),!1;this.fileList=[];this.form.goods_id,e.name;this.fileList[0]={name:e.name,url:"/admin_php/image/goods/major/"+this.form.goods_id+e.name}},imgCheck:function(e){return this.fileList2.length>=3?(this.$message({type:"warning",message:"图片数量超出设定数量！"}),!1):e.size>512e3?(this.$message({type:"warning",message:"图片大小超出设定数量！"}),!1):void console.log(this.fileList2,"x")},getImgLists:function(e,t){var o=this;y.getImgLists(o.form.goods_id,function(e){o.fileList2=e.data},function(e){})},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;y.updateGoods(t.form,function(e){t.$alert("修改成功!","系统提示",{confirmButtonText:"确定",callback:function(e){window.location.reload()}})},function(e){t.$alert("修改成功!","系统提示",{confirmButtonText:"确定",callback:function(e){window.location.reload()}})})})},resetForm:function(e){this.$refs[e].resetFields(),this.dialogFormVisible=!1}}},k={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{staticClass:"editGoods",attrs:{title:"编辑商品",visible:e.dialogFormVisible,width:"600px","close-on-press-escape":e.dialogClose,"close-on-click-modal":e.dialogClose,"show-close":e.dialogClose},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"dialogForm",attrs:{model:e.form,rules:e.rules}},[o("el-form-item",{attrs:{label:"商品ID","label-width":e.formLabelWidth}},[o("span",[e._v(e._s(e.form.goods_id))])]),e._v(" "),o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth,prop:"goods_name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.goods_name,callback:function(t){e.$set(e.form,"goods_name",t)},expression:"form.goods_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品分类","label-width":e.formLabelWidth}},[o("el-cascader",{attrs:{options:e.cascaderData,props:e.props},on:{change:e.handleItemChange},model:{value:e.form.selectedOptions,callback:function(t){e.$set(e.form,"selectedOptions",t)},expression:"form.selectedOptions"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"重量(kg)","label-width":e.formLabelWidth,prop:"weight"}},[o("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品库存","label-width":e.formLabelWidth,prop:"store_count"}},[o("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.store_count,callback:function(t){e.$set(e.form,"store_count",t)},expression:"form.store_count"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"市场价(元)","label-width":e.formLabelWidth,prop:"market_price"}},[o("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.market_price,callback:function(t){e.$set(e.form,"market_price",t)},expression:"form.market_price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"本店价(元)","label-width":e.formLabelWidth,prop:"shop_price"}},[o("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.shop_price,callback:function(t){e.$set(e.form,"shop_price",t)},expression:"form.shop_price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品描述","label-width":e.formLabelWidth,prop:"goods_desc"}},[o("el-input",{attrs:{type:"textarea","auto-complete":"off",autosize:{minRows:2,maxRows:4}},model:{value:e.form.goods_desc,callback:function(t){e.$set(e.form,"goods_desc",t)},expression:"form.goods_desc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"赠送积分","label-width":e.formLabelWidth,prop:"give_integral"}},[o("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.give_integral,callback:function(t){e.$set(e.form,"give_integral",t)},expression:"form.give_integral"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"是否包邮","label-width":e.formLabelWidth}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.is_free_shipping,callback:function(t){e.$set(e.form,"is_free_shipping",t)},expression:"form.is_free_shipping"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.is_free_shipping,callback:function(t){e.$set(e.form,"is_free_shipping",t)},expression:"form.is_free_shipping"}},[e._v("否")])],1),e._v(" "),o("el-form-item",{attrs:{label:"是否热卖","label-width":e.formLabelWidth}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.is_hot,callback:function(t){e.$set(e.form,"is_hot",t)},expression:"form.is_hot"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.is_hot,callback:function(t){e.$set(e.form,"is_hot",t)},expression:"form.is_hot"}},[e._v("否")])],1),e._v(" "),o("el-form-item",{attrs:{label:"是否上架","label-width":e.formLabelWidth}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.is_on_sale,callback:function(t){e.$set(e.form,"is_on_sale",t)},expression:"form.is_on_sale"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.is_on_sale,callback:function(t){e.$set(e.form,"is_on_sale",t)},expression:"form.is_on_sale"}},[e._v("否")])],1),e._v(" "),o("el-form-item",{attrs:{label:"商品图片","label-width":e.formLabelWidth}},[o("el-button",{attrs:{type:"text"},on:{click:function(t){e.innerVisible=!0}}},[e._v("修改图片")])],1),e._v(" "),o("el-dialog",{staticClass:"innerDialog",attrs:{width:"600px",title:"修改商品图片",visible:e.innerVisible,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[o("el-form-item",{attrs:{label:"商品主图","label-width":e.formLabelWidth}},[o("el-upload",{staticClass:"upload-demo",attrs:{action:"/admin_php/goods/goodsImgUpload.php?type=major",data:e.form.goods_id,"on-preview":e.handlePreview,"before-upload":e.majorCheck,"on-remove":e.handleRemove,"file-list":e.fileList,"list-type":"picture",accept:"image/jpg, image/png","before-remove":e.beforeRemove,"on-success":e.getImgLists}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb，限1张")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"商品图片","label-width":e.formLabelWidth}},[o("el-upload",{staticClass:"upload-demo",attrs:{action:"/admin_php/goods/goodsImgUpload.php?type=others","on-preview":e.handlePreview,"on-remove":e.handleRemove,"file-list":e.fileList2,"list-type":"picture","before-upload":e.imgCheck,accept:"image/jpg, image/png",data:e.form.goods_id,"before-remove":e.beforeRemove2,"on-success":e.getImgLists}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb,限3张")])],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.innerVisible=!1}}},[e._v("返 回")])],1)],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.resetForm("dialogForm")}}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("dialogForm")}}},[e._v("确 定")])],1)],1),e._v(" "),o("div",{staticClass:"clearfix"},[o("div",{staticClass:"main-title",attrs:{slot:"main-title"},slot:"main-title"},[e._v("商品列表")]),e._v(" "),o("div",{staticClass:"search-box"},[o("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSearch(t)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[o("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},e._l(e.searchOptions,function(e){return o("el-option",{attrs:{label:e.label,value:e.value}})})),e._v(" "),o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1)],1)]),e._v(" "),o("el-table",{staticClass:"goods_table",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:"商品 ID"}},[o("span",[e._v(e._s(t.row.goods_id))])]),e._v(" "),o("el-form-item",{attrs:{label:"商品名称"}},[o("span",[e._v(e._s(t.row.goods_name))])]),e._v(" "),o("el-form-item",{attrs:{label:"商品分类"}},e._l(t.row.category,function(t){return o("span",[e._v(e._s(t.name)+" ")])})),e._v(" "),o("el-form-item",{attrs:{label:"商品库存"}},[o("span",[e._v(e._s(t.row.store_count))])]),e._v(" "),o("el-form-item",{attrs:{label:"商品销量"}},[o("span",[e._v(e._s(t.row.sales_sum))])]),e._v(" "),o("el-form-item",{attrs:{label:"重量(kg)"}},[o("span",[e._v(e._s(t.row.weight))])]),e._v(" "),o("el-form-item",{attrs:{label:"市场价(元)"}},[o("span",[e._v(e._s(t.row.market_price))])]),e._v(" "),o("el-form-item",{attrs:{label:"本店价(元)"}},[o("span",[e._v(e._s(t.row.shop_price))])]),e._v(" "),o("el-form-item",{attrs:{label:"是否包邮"}},["1"==t.row.is_free_shipping?o("span",[e._v("是")]):o("span",[e._v("否")])]),e._v(" "),o("el-form-item",{attrs:{label:"是否热卖"}},["1"==t.row.is_hot?o("span",[e._v("是")]):o("span",[e._v("否")])]),e._v(" "),o("el-form-item",{attrs:{label:"赠送积分"}},[o("span",[e._v(e._s(t.row.give_integral))])]),e._v(" "),o("el-form-item",{attrs:{label:"商品主图"}},[o("img",{staticClass:"smallImg",attrs:{src:t.row.original_img,alt:""},on:{click:function(o){e.showImg(t.row.original_img)}}})]),e._v(" "),o("el-form-item",{attrs:{label:"是否上架"}},["1"==t.row.is_on_sale?o("span",[e._v("是")]):o("span",[e._v("否")])]),e._v(" "),o("el-form-item",{attrs:{label:"商品图片"}},e._l(t.row.img,function(t){return o("img",{staticClass:"smallImg",attrs:{src:t.url,alt:""},on:{click:function(o){e.showImg(t.url)}}})})),e._v(" "),o("el-form-item",{attrs:{label:"商品描述"}},[o("span",[e._v(e._s(t.row.goods_desc))])])],1)]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"商品 ID",prop:"goods_id","min-width":"100%"}}),e._v(" "),o("el-table-column",{attrs:{label:"商品名称",prop:"goods_name","min-width":"200%"}}),e._v(" "),o("el-table-column",{attrs:{label:"商品描述",prop:"goods_desc","min-width":"300%"}}),e._v(" "),o("el-table-column",{attrs:{label:"商品销量",prop:"sales_sum","min-width":"100%"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作","min-width":"150%"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini"},on:{click:function(o){e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),o("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(o){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),o("el-dialog",{staticClass:"showBigImg",attrs:{title:"图片展示",visible:e.dialogVisible,width:"500px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("img",{staticClass:"bigImg",attrs:{src:e.showUrl,alt:""}})])],1)},staticRenderFns:[]};var $=o("VU/8")(x,k,!1,function(e){o("kxjs")},null,null).exports,C={data:function(){var e=this;return{props:{value:"id",label:"name"},active:0,formVisible:!0,imgVisible:!1,form:{is_free_shipping:"0",is_hot:"0",is_on_sale:"0",cascaderData:[],selectedOptions:[]},formLabelWidth:"120px",rules:{goods_id:[{required:!0,message:"请输入商品 ID",trigger:"blur"},{validator:function(e,t,o){y.checkGoodsId(t,function(e){o()},function(e){o(new Error("商品 ID已存在!"))})},trigger:"blur"}],goods_name:{required:!0,message:"请输入商品名称",trigger:"blur"},weight:{required:!0,message:"请输入商品重量",trigger:"blur"},selectedOptions:{required:!0,message:"请选择商品分类",trigger:"blur"},store_count:{required:!0,message:"请输入库存数量",trigger:"blur"},original_img:[{validator:function(t,o,s){0!=e.fileList.length?s():s(new Error("请选取商品主图！"))},trigger:"submit"}],market_price:{required:!0,message:"请输入市场价",trigger:"blur"},shop_price:{required:!0,message:"请输入本店价",trigger:"blur"},goods_desc:{required:!0,message:"请输入商品描述",trigger:"blur"},give_integral:{required:!0,message:"请输入赠送积分",trigger:"blur"}},fileList:[],fileList2:[],dialogImageUrl:"",dialogVisible:!1}},mounted:function(){var e=this;v.getTypeList(function(t){e.form.cascaderData=t.data},function(t){e.$message({type:"warning",message:"请求数据出错！"})})},methods:{next:function(){this.active++>2&&(this.active=0)},checkImgCount:function(e,t){console.log(this),console.log(t,this.fileList,this.fileList.length,21),e.size<512e3?t.length>1&&t.splice(0,1):(this.$message({type:"warning",message:"图片大小超出设定！"}),t.splice(1,1)),this.fileList[0]=t[0]},nextForm:function(e){var t=this;t.$refs[e].validate(function(e){if(!e)return!1;t.form.fileList=t.fileList,y.addGoods(t.form,function(e){t.$alert("添加成功，点击下一步添加商品图片！","提示",{confirmButtonText:"下一步",callback:function(e){t.formVisible=!1,t.imgVisible=!0}})},function(e){t.$alert("添加失败！","提示",{confirmButtonText:"取消",callback:function(e){window.location.reload()}})}),t.$refs.upload.submit(),console.log(t.$refs.upload,"upload")})},onRemove:function(e,t){this.fileList=[]},handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},beforeUpload:function(e){return e.size<512e3?this.fileList2.length>=3?(this.$message({type:"warning",message:"图片数量超出设定！"}),!1):void 0:(this.$message({type:"warning",message:"图片大小超出设定！"}),!1)},Onsuccess:function(e,t,o){var s=this;y.getImgLists(s.form.goods_id,function(e){s.fileList2=e.data},function(e){})},beforeRemove:function(e,t){console.log("1");var o=this;y.deleteImg(e.id,function(e){o.$message({type:"success",message:"操作成功！"}),o.fileList2=t},function(e){return o.$message({type:"warning",message:"操作失败！"}),!1})},finish:function(){_this.$alert("操作成功！","提示",{confirmButtonText:"完成",callback:function(e){_this.formVisible=!1,_this.imgVisible=!0,window.location.reload()}})}}},L={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"clearfix"},[o("div",{staticClass:"main-title",attrs:{slot:"main-title"},slot:"main-title"},[e._v("添加商品")])]),e._v(" "),o("div",{staticClass:"step1"},[o("el-form",{directives:[{name:"show",rawName:"v-show",value:e.formVisible,expression:"formVisible"}],ref:"addForm",staticClass:"add_goods_form",attrs:{model:e.form,rules:e.rules}},[o("el-form-item",{attrs:{label:"商品 ID","label-width":e.formLabelWidth,prop:"goods_id"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.goods_id,callback:function(t){e.$set(e.form,"goods_id",t)},expression:"form.goods_id"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品名称","label-width":e.formLabelWidth,prop:"goods_name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.goods_name,callback:function(t){e.$set(e.form,"goods_name",t)},expression:"form.goods_name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品分类","label-width":e.formLabelWidth,prop:"selectedOptions"}},[o("el-cascader",{attrs:{options:e.form.cascaderData,props:e.props},on:{change:e.handleItemChange},model:{value:e.form.selectedOptions,callback:function(t){e.$set(e.form,"selectedOptions",t)},expression:"form.selectedOptions"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品主图","label-width":e.formLabelWidth,prop:"original_img"}},[o("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/admin_php/goods/goodsImgUpload.php","file-list":e.fileList,"auto-upload":!1,"list-type":"picture",accept:"image/jpg,image/png","on-change":e.checkImgCount,data:e.form.goods_id,"on-remove":e.onRemove}},[o("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"重量(kg)","label-width":e.formLabelWidth,prop:"weight"}},[o("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品库存","label-width":e.formLabelWidth,prop:"store_count"}},[o("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.store_count,callback:function(t){e.$set(e.form,"store_count",t)},expression:"form.store_count"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"市场价(元)","label-width":e.formLabelWidth,prop:"market_price"}},[o("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.market_price,callback:function(t){e.$set(e.form,"market_price",t)},expression:"form.market_price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"本店价(元)","label-width":e.formLabelWidth,prop:"shop_price"}},[o("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.shop_price,callback:function(t){e.$set(e.form,"shop_price",t)},expression:"form.shop_price"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"商品描述","label-width":e.formLabelWidth,prop:"goods_desc"}},[o("el-input",{attrs:{type:"textarea","auto-complete":"off",autosize:{minRows:2,maxRows:4}},model:{value:e.form.goods_desc,callback:function(t){e.$set(e.form,"goods_desc",t)},expression:"form.goods_desc"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"赠送积分","label-width":e.formLabelWidth,prop:"give_integral"}},[o("el-input",{attrs:{type:"number","auto-complete":"off"},model:{value:e.form.give_integral,callback:function(t){e.$set(e.form,"give_integral",t)},expression:"form.give_integral"}})],1),e._v(" "),o("el-form-item",{staticClass:"radioBox",attrs:{label:"是否包邮","label-width":e.formLabelWidth}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.is_free_shipping,callback:function(t){e.$set(e.form,"is_free_shipping",t)},expression:"form.is_free_shipping"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.is_free_shipping,callback:function(t){e.$set(e.form,"is_free_shipping",t)},expression:"form.is_free_shipping"}},[e._v("否")])],1),e._v(" "),o("el-form-item",{staticClass:"radioBox",attrs:{label:"是否热卖","label-width":e.formLabelWidth}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.is_hot,callback:function(t){e.$set(e.form,"is_hot",t)},expression:"form.is_hot"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.is_hot,callback:function(t){e.$set(e.form,"is_hot",t)},expression:"form.is_hot"}},[e._v("否")])],1),e._v(" "),o("el-form-item",{staticClass:"radioBox",attrs:{label:"是否上架","label-width":e.formLabelWidth}},[o("el-radio",{attrs:{label:"1"},model:{value:e.form.is_on_sale,callback:function(t){e.$set(e.form,"is_on_sale",t)},expression:"form.is_on_sale"}},[e._v("是")]),e._v(" "),o("el-radio",{attrs:{label:"0"},model:{value:e.form.is_on_sale,callback:function(t){e.$set(e.form,"is_on_sale",t)},expression:"form.is_on_sale"}},[e._v("否")])],1)],1),e._v(" "),o("div",{staticClass:"add_goods_footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{directives:[{name:"show",rawName:"v-show",value:e.formVisible,expression:"formVisible"}],attrs:{type:"primary"},on:{click:function(t){e.nextForm("addForm")}}},[e._v("下一步")])],1)],1),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.imgVisible,expression:"imgVisible"}],staticClass:"step2"},[o("div",{staticClass:"upload-title"},[e._v("上传商品图片")]),e._v(" "),o("el-upload",{staticClass:"upload-demo",attrs:{"before-upload":e.beforeUpload,action:"/admin_php/goods/goodsImgUpload.php?type=others","list-type":"picture-card","on-preview":e.handlePictureCardPreview,"file-list":e.fileList2,"on-success":e.Onsuccess,data:e.form.goods_id,"before-remove":e.beforeRemove,accept:"image/jpg,image/png"}},[o("i",{staticClass:"el-icon-plus"}),e._v(" "),o("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])]),e._v(" "),o("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),o("div",{staticClass:"img_footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:e.finish}},[e._v("完成")])],1)],1)])},staticRenderFns:[]};var S=o("VU/8")(C,L,!1,function(e){o("CAs3")},null,null).exports,I={data:function(){return{tableData:[],input:"",select:"",searchOptions:[{value:"id",label:"用户 ID"},{value:"userName",label:"用户名"}]}},mounted:function(){var e=this;y.getUserInfo(function(t){e.tableData=t.data},function(e){})},methods:{handleSearch:function(){var e=this,t={type:e.select,content:e.input};""!=t.type?""==t.content?y.getUserInfo(function(t){e.tableData=t.data},function(t){e.$message({type:"warning",message:"请求数据出错！"})}):y.searchUserInfo(t,function(t){e.$message({type:"success",message:"操作成功！"}),e.tableData=t.data,console.log(e.tableData)},function(t){e.$message({type:"warning",message:"操作失败！"})}):e.$alert("请选择搜索类型!","系统提示",{confirmButtonText:"确定"})}}},F={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"clearfix"},[o("div",{staticClass:"main-title",attrs:{slot:"main-title"},slot:"main-title"},[e._v("用户管理")]),e._v(" "),o("div",{staticClass:"search-box"},[o("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSearch(t)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[o("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},e._l(e.searchOptions,function(e){return o("el-option",{attrs:{label:e.label,value:e.value}})})),e._v(" "),o("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.handleSearch},slot:"append"})],1)],1)]),e._v(" "),o("el-table",{staticClass:"user_table",staticStyle:{width:"100%"},attrs:{data:e.tableData}},[o("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[o("el-form-item",{attrs:{label:"密保问题"}},[o("span",[e._v(e._s(t.row.question))])]),e._v(" "),o("el-form-item",{attrs:{label:"密保答案"}},[o("span",[e._v(e._s(t.row.answer))])]),e._v(" "),o("el-form-item",{attrs:{label:"真实姓名"}},[o("span",[e._v(e._s(t.row.realname))])]),e._v(" "),o("el-form-item",{attrs:{label:"性别"}},["0"==t.row.sex?o("span",[e._v("保密")]):"1"==t.row.sex?o("span",[e._v("男")]):"2"==t.row.sex?o("span",[e._v("女")]):e._e()]),e._v(" "),o("el-form-item",{attrs:{label:"个人简介"}},[o("span",[e._v(e._s(t.row.realname))])]),e._v(" "),o("el-form-item",{attrs:{label:"账户积分"}},[o("span",[e._v(e._s(t.row.integration))])]),e._v(" "),o("el-form-item",{attrs:{label:"收货信息"}},e._l(t.row.home,function(t){return o("p",[e._v(e._s(t.receiver)+" "+e._s(t.phone)+" "+e._s(t.province)+" "+e._s(t.city)+" "+e._s(t.address))])}))],1)]}}])}),e._v(" "),o("el-table-column",{attrs:{label:"用户 ID",prop:"id","min-width":"150%"}}),e._v(" "),o("el-table-column",{attrs:{label:"用户名",prop:"userName","min-width":"150%"}}),e._v(" "),o("el-table-column",{attrs:{label:"用户密码",prop:"password","min-width":"250%"}}),e._v(" "),o("el-table-column",{attrs:{label:"用户手机",prop:"phone","min-width":"200%"}}),e._v(" "),o("el-table-column",{attrs:{label:"用户邮箱",prop:"email","min-width":"200%"}}),e._v(" "),o("el-table-column",{attrs:{label:"注册时间",prop:"time","min-width":"150%"}})],1)],1)},staticRenderFns:[]};var T=o("VU/8")(I,F,!1,function(e){o("eztr")},null,null).exports,V={name:"Hi",data:function(){return{dialogFormVisible:!0,form:{name:"",id:"",isShow:"0",sort:0,type:""},formLabelWidth:"100px"}},methods:{resetForm:function(e){console.log(this.$refs[e],e),this.$refs[e].resetFields()}}},U={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{title:"添加/编辑分类",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-form",{ref:"form",attrs:{model:e.form,"status-icon":""}},[o("el-form-item",{attrs:{label:"分类名","label-width":e.formLabelWidth,prop:"name"}},[o("el-input",{attrs:{"auto-complete":"off"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"==typeof t?t.trim():t)},expression:"form.name"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"是否可见","label-width":e.formLabelWidth,prop:"isShow"}},[o("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-value":"1","inactive-value":"0"},model:{value:e.form.isShow,callback:function(t){e.$set(e.form,"isShow",t)},expression:"form.isShow"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"优先级","label-width":e.formLabelWidth,prop:"sort"}},[o("el-slider",{attrs:{max:10,"show-stops":""},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重 置")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("确 定")])],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.resetForm("form")}}},[e._v("重 置")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]},q=(o("VU/8")(V,U,!1,null,null,null).exports,{name:"headerNav",data:function(){return{adminName:"root",level:"root"}},mounted:function(){var e=this;d.getAdminName(function(t){e.adminName=t.data.adminName,e.level=t.data.level+"级管理员"},function(e){})},methods:{logout:function(){var e=this;d.logout(function(t){e.$message({type:"success",message:t.msg}),e.$router.push("/")},function(e){})}}}),W={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"nav-header"},[t("div",{staticClass:"nav-title"},[this._v("后台管理系统")]),this._v(" "),t("div",{staticClass:"admin-info"},[t("i",{staticClass:"iconfont icon-guanliyuan"}),this._v(" "),t("span",{domProps:{textContent:this._s(this.level)}}),this._v(" "),t("el-dropdown",{on:{command:this.logout}},[t("span",{staticClass:"el-dropdown-link"},[t("span",{staticClass:"adminName",domProps:{textContent:this._s(this.adminName)}})]),this._v(" "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",[this._v("退出")])],1)],1)],1)])},staticRenderFns:[]};var D={data:function(){return{isCollapse:!0,a:"3",defaultActive:""}},methods:{handleOpen:function(e,t){console.log(this.$route.path)},handleClose:function(e,t){console.log(e,t)}}},N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"left-nav"},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.$route.path.substr(10),"text-color":"#48576a","background-color":"#EEF1F6",router:""}},[t("el-menu-item",{attrs:{index:"Hi"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-location"}),this._v(" "),t("span",[this._v("首页")])])],2),this._v(" "),t("el-menu-item",{attrs:{index:"user_lists"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-location"}),this._v(" "),t("span",[this._v("用户管理")])])],2),this._v(" "),t("el-submenu",{attrs:{index:"product"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-location"}),this._v(" "),t("span",[this._v("商品管理")])]),this._v(" "),t("el-menu-item",{attrs:{index:"goods_lists"}},[this._v("查看商品")]),this._v(" "),t("el-menu-item",{attrs:{index:"add_goods"}},[this._v("添加商品")])],2),this._v(" "),t("el-menu-item",{attrs:{index:"goods_category"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-location"}),this._v(" "),t("span",[this._v("商品分类管理")])])],2),this._v(" "),t("el-menu-item",{attrs:{index:"admin_info"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-location"}),this._v(" "),t("span",[this._v("管理员管理")])])],2)],1)],1)},staticRenderFns:[]};var A={name:"app",components:{headerNav:o("VU/8")(q,W,!1,function(e){o("o85s")},null,null).exports,leftNav:o("VU/8")(D,N,!1,function(e){o("a923")},null,null).exports},computed:{},methods:{}},P={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",{attrs:{id:"app"}},[t("el-header",[t("headerNav")],1),this._v(" "),t("el-container",[t("div",[t("leftNav")],1),this._v(" "),t("el-container",[t("el-main",[t("router-view",[this._t("main-title")],2)],1)],1)],1)],1)},staticRenderFns:[]};var O=o("VU/8")(A,P,!1,function(e){o("2qTu")},null,null).exports,B={data:function(){return{dialogFormVisible:!0,form:{adminName:"",password:""},close:!1,showClose:!1,modal:!1,formLabelWidth:"80px",rules:{adminName:[{required:!0,message:"请输入管理员名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},errorTips:"",isShow:!1}},methods:{submitForm:function(e){var t=this;console.log(t.$store),t.$refs[e].validate(function(e){if(!e)return!1;d.validateLogin(t.form,function(e){t.$store.state.isLogin=!0,t.$store.state.adminInfo=e.data,console.log(t.$store),t.$message({message:e.msg,type:"success"}),t.$router.push("/mainPage/goods_category")},function(e){t.isShow=!0,t.errorTips=e})})}}},R={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{staticClass:"login_dialog",attrs:{title:"管理员登录","show-close":e.showClose,modal:e.modal,visible:e.dialogFormVisible,center:"","close-on-press-escape":e.close,"close-on-click-modal":e.close,width:"400px"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[o("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],attrs:{title:e.errorTips,type:"error","show-icon":""}}),e._v(" "),o("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[o("el-form-item",{attrs:{label:"管理员名","label-width":e.formLabelWidth,prop:"adminName"}},[o("el-input",{attrs:{"auto-complete":"off",placeholder:"请输入管理员名"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.submitForm("form")}},model:{value:e.form.adminName,callback:function(t){e.$set(e.form,"adminName",t)},expression:"form.adminName"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"密码","label-width":e.formLabelWidth,prop:"password"}},[o("el-input",{attrs:{"auto-complete":"off",type:"password",placeholder:"请输入管理员密码"},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.submitForm("form")}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),o("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("form")}}},[e._v("登 录")])],1)],1)},staticRenderFns:[]};var j=o("VU/8")(B,R,!1,function(e){o("4jgz")},null,null).exports;s.a.use(i.a);var E=new i.a({routes:[{path:"/mainPage",name:"mainPage",component:O,children:[{path:"admin_info",name:"adminInfo",meta:{auth:!0},component:h},{path:"goods_category",meta:{auth:!0},name:"goodsCategory",component:w},{path:"goods_lists",meta:{auth:!0},name:"goodsLists",component:$},{path:"add_goods",meta:{auth:!0},name:"addGoods",component:S},{path:"user_lists",meta:{auth:!0},name:"userLists",component:T}]},{path:"/",name:"login",component:j}]}),z=o("HLnj"),G=o.n(z);o("KS/H");s.a.use(G.a),s.a.config.productionTip=!1,new s.a({el:"#app",router:E,store:f,axios:r.a,template:"<App/>",components:{App:a.default}})},a923:function(e,t){},eztr:function(e,t){},kxjs:function(e,t){},o85s:function(e,t){},phWZ:function(e,t){},vv1F:function(e,t){},xJD8:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.e3a4b704b83a8981243b.js.map